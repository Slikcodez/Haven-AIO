package webhook

import (
	"log"

	"github.com/gtuk/discordwebhook"
)

func DiscordWebhook(wh WebhookStruct) {

	username := "Shell Raffle"
	title := "Success"
	color := "5294200"
	bot_url := "https://upload.wikimedia.org/wikipedia/en/thumb/e/e8/Shell_logo.svg/2560px-Shell_logo.svg.png"

	embeds := discordwebhook.Embed{
		Title:       &title,
		Description: &prize,
		Color:       &color,
	}
	// log.Println(embeds)
	embedArray := []discordwebhook.Embed{embeds}
	log.Println(embedArray)
	message := discordwebhook.Message{
		Username:  &username,
		AvatarUrl: &bot_url,
		Embeds:    &embedArray,
	}

	err := discordwebhook.SendMessage(webhook, message)
	if err != nil {
		log.Println(err)
		log.Fatalf("Failure in webhook")

	}
}
